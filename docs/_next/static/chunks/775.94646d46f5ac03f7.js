"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{2775:function(e,o,r){r.d(o,{preprocessImage:function(){return t}});async function t(e){console.log("[ImagePreprocessor] Fast preprocessing...");try{let o=await new Promise((o,r)=>{let t=new Image,a=URL.createObjectURL(e);t.onload=()=>{URL.revokeObjectURL(a),o(t)},t.onerror=()=>{URL.revokeObjectURL(a),r(Error("Failed to load image"))},t.src=a}),r=o.width>2048||o.height>2048;if(!r&&e.size<1e6)return console.log("[ImagePreprocessor] Image already optimized"),e;let t=o.width,a=o.height;if(r){let e=2048/Math.max(t,a);t=Math.round(t*e),a=Math.round(a*e),console.log("[ImagePreprocessor] Resizing: ".concat(o.width,"x").concat(o.height," â†’ ").concat(t,"x").concat(a))}let c=document.createElement("canvas"),n=c.getContext("2d");return c.width=t,c.height=a,n.drawImage(o,0,0,t,a),console.log("[ImagePreprocessor] Complete (fast mode)"),new Promise(o=>{c.toBlob(r=>{o(r||e)},"image/jpeg",.92)})}catch(o){return console.error("[ImagePreprocessor] Error:",o),e}}}}]);